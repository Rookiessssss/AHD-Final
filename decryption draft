//B = ((B - S[2i + 1] >>> A) XOR A;
//A = ((A - S[2i]) >>> B) XOR B;
//B = B - S[1];
//A = A - S[0];

//S[2i+1]----$1
//S[2i]  ----$2
//b_temp ----$3
//a_temp ----$4
//Parameters to count rotation loops----$7, $8
//Parameters to do xor----$5, $6
//S array----$10
//shifted S array----$11
//i_cnt----$12
//miminum i-1----$13
//dout-----$14, $15
//extract the last 5 bit-----$17
//1F-----$16

//din----6-7
//skey array----8-33
//dout----36-37

(   rs, rt, rd)
(   rs, rt, imm)
addi $0, $16, 31
00000100000100000000000000011111
addi $0, $17, 0
00000100000100010000000000000000
addi $0, $14, 6
00000100000011100000000000000110
lw $3, 1($14)
00011101110000110000000000000001
lw $4, 0($14)
00011101110001000000000000000000
lw $10, 2($14)
00011101110010100000000000000010
addi $0, $12, 12
00000100000011000000000000001100
addi $0, $13, 0
00000100000011010000000000000000
addi $10, $11, 24
00000101010010110000000000011000
(loop1:) lw $1, 1($11)
00011101011000010000000000000001
lw $2, 0($11)
00011101011000100000000000000000
sub $3, $1, $3 //B = B – S[2*i + 1]
00000000011000010001100000010001
sub $4, $2, $4 //A = A – S[2*i]
00000000100000100010000000010001
addi $0, $7, 0
00000100000001110000000000000000
addi $0, $8, 0
00000100000010000000000000000000
and $4, $16, $17
00000000100100001000100000010010
beq $17, $0, 3
00101010001000000000000000000011
(loop2:) shr $3, $3, 1
00011000011000110000000000000001
addi $7, $7, 1
00000100111001110000000000000001
bne $7, $17, -3 (loop2) //>>>A
00101100111100011111111111111101
nor $3, $3, $5      
00000000011000110010100000010100
nor $4, $4, $6 
00000000100001000011000000010100
nor $5, $6, $5 
00000000101001100010100000010100
nor $3, $4, $6 
00000000011001000011000000010100
nor $5, $6, $3 //B XOR A 
00000000101001100001100000010100
and $3, $16, $17
00000000011100001000100000010010
beq $17, $0, 3
00101010001000000000000000000011
(loop3:) shr $4, $4, 1
00011000100001000000000000000001
addi $8, $8, 1
00000101000010000000000000000001
bne $8, $17, -3 (loop3) //>>>B
00101101000100011111111111111101
nor $3, $3, $5
00000000011000110010100000010100
nor $4, $4, $6
00000000100001000011000000010100
nor $5, $6, $5
00000000101001100010100000010100
nor $3, $4, $6
00000000011001000011000000010100
nor $5, $6, $4  //A XOR B
00000000101001100010000000010100
subi $12, $12, 1
00001001100011000000000000000001
Subi $11, $11, 2
00001001011010110000000000000010
bne $12, $13, -29 (loop1)
00101101100011011111111111100011
lw $1, 1($10)
00011101010000010000000000000001
lw $2, 0($10)
00011101010000100000000000000000
sub $3, $1, $3 //B = B – S[1]
00000000011000010001100000010001
sub $4, $2, $4 //A = A – S[0]
00000000100000100010000000010001
addi $0, $14, 36
00000100000011100000000000100100
addi $0, $15, 37
00000100000011110000000000100101
Sw $14, 0($4)
00100000100011100000000000000000
Sw $15, 0($3)
00100000011011110000000000000000
hal
11111100000000000000000000000000
